<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ConvoManage - Streamlining Online Conference Management</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tagline {
            color: #666;
            font-style: italic;
            margin-top: 5px;
        }

        nav {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .nav-btn.active {
            background: linear-gradient(45deg, #764ba2, #667eea);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            min-height: 600px;
        }

        .dashboard {
            display: none;
        }

        .dashboard.active {
            display: block;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .dashboard-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .dashboard-card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .dashboard-card .number {
            font-size: 3rem;
            font-weight: bold;
            color: #764ba2;
            margin-bottom: 10px;
        }

        .form-section {
            margin-bottom: 40px;
        }

        .form-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-danger {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
        }

        .btn-danger:hover {
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .data-table th,
        .data-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e1e5e9;
        }

        .data-table th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .data-table tr:hover {
            background-color: #f8f9fa;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-confirmed {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-cancelled {
            background: #f8d7da;
            color: #721c24;
        }

        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-weight: 500;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .search-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .search-filter input {
            flex: 1;
            min-width: 200px;
            padding: 10px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
        }

        .welcome-section {
            text-align: center;
            padding: 60px 20px;
        }

        .welcome-section h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .welcome-section p {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }

        .feature-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .nav {
                flex-direction: column;
                width: 100%;
            }

            .main-content {
                padding: 20px;
            }

            .welcome-section h1 {
                font-size: 2.5rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div>
                    <div class="logo">ConvoManage</div>
                    <div class="tagline">Streamlining Online Conference Management with Efficiency and Ease</div>
                </div>
                <nav>
                    <button class="nav-btn active" onclick="showDashboard('home')">Home</button>
                    <button class="nav-btn" onclick="showDashboard('attendees')">Attendees</button>
                    <button class="nav-btn" onclick="showDashboard('speakers')">Speakers</button>
                    <button class="nav-btn" onclick="showDashboard('sessions')">Sessions</button>
                    <button class="nav-btn" onclick="showDashboard('conferences')">Conferences</button>
                    <button class="nav-btn" onclick="showDashboard('analytics')">Analytics</button>
                </nav>
            </div>
        </header>

        <div class="main-content">
            <!-- Home Dashboard -->
            <div id="home" class="dashboard active">
                <div class="welcome-section">
                    <h1>Welcome to ConvoManage</h1>
                    <p>Your comprehensive solution for managing online conferences with efficiency and ease. From attendee registration to session tracking, we've got you covered.</p>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="feature-icon">üë•</div>
                        <h3>Total Attendees</h3>
                        <div class="number" id="totalAttendees">0</div>
                        <p>Registered participants across all conferences</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="feature-icon">üé§</div>
                        <h3>Active Speakers</h3>
                        <div class="number" id="totalSpeakers">0</div>
                        <p>Expert speakers ready to present</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="feature-icon">üìÖ</div>
                        <h3>Scheduled Sessions</h3>
                        <div class="number" id="totalSessions">0</div>
                        <p>Sessions across all conferences</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="feature-icon">üéØ</div>
                        <h3>Active Conferences</h3>
                        <div class="number" id="totalConferences">0</div>
                        <p>Currently managed conferences</p>
                    </div>
                </div>

                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üöÄ</div>
                        <h3>Quick Setup</h3>
                        <p>Get your conference up and running in minutes with our intuitive setup wizard</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîí</div>
                        <h3>Secure Platform</h3>
                        <p>Enterprise-grade security ensures your conference data remains protected</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <h3>Real-time Analytics</h3>
                        <p>Monitor attendance, engagement, and performance metrics in real-time</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üåê</div>
                        <h3>Global Reach</h3>
                        <p>Connect attendees from around the world with our scalable infrastructure</p>
                    </div>
                </div>
            </div>

            <!-- Attendees Management -->
          <div id="attendees" class="dashboard">
  <div class="form-section">
    <h2>Attendee Registration</h2>

    <% if (success && success.length > 0) { %>
      <div class="alert alert-success"><%= success %></div>
    <% } %>
    <% if (error && error.length > 0) { %>
      <div class="alert alert-danger"><%= error %></div>
    <% } %>

    <!-- Form wired with POST method to /attendees route -->
    <form id="attendeeForm" method="POST" action="/attendees">
      <div class="form-grid">
        <div class="form-group">
          <label for="attendeeName">Full Name *</label>
          <input type="text" id="attendeeName" name="name" required>
        </div>

        <div class="form-group">
          <label for="attendeeEmail">Email Address *</label>
          <input type="email" id="attendeeEmail" name="email" required>
        </div>

        <div class="form-group">
          <label for="attendeeCompany">Company/Organization</label>
          <input type="text" id="attendeeCompany" name="company">
        </div>

        <div class="form-group">
          <label for="attendeeTitle">Job Title</label>
          <input type="text" id="attendeeTitle" name="title">
        </div>

        <div class="form-group">
          <label for="attendeeConference">Conference *</label>
          <select id="attendeeConference" name="conference" required>
            <option value="">Select Conference</option>
            <% conferences.forEach(conf => { %>
              <option value="<%= conf._id %>"><%= conf.name %></option>
            <% }) %>
          </select>
        </div>

        <div class="form-group">
          <label for="attendeeTicket">Ticket Type</label>
          <select id="attendeeTicket" name="ticketType">
            <option value="standard">Standard</option>
            <option value="premium">Premium</option>
            <option value="vip">VIP</option>
          </select>
        </div>
      </div>

      <button type="submit" class="btn">Register Attendee</button>
    </form>
  </div>

  <!-- Search & filter -->
  <div class="search-filter">
    <input type="text" id="attendeeSearch" placeholder="Search attendees..." onkeyup="filterAttendees()">
    <select id="attendeeStatusFilter" onchange="filterAttendees()">
      <option value="">All Status</option>
      <option value="confirmed">Confirmed</option>
      <option value="pending">Pending</option>
      <option value="cancelled">Cancelled</option>
    </select>
  </div>

  <!-- Attendees Table -->
  <table class="data-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Company</th>
        <th>Conference</th>
        <th>Ticket Type</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% attendees.forEach(a => { %>
        <tr>
          <td><%= a.name %></td>
          <td><%= a.email %></td>
          <td><%= a.company %></td>
          <td><%= a.conference ? a.conference.name : '' %></td>
          <td><%= a.ticketType %></td>
          <td><%= a.status || 'pending' %></td>
          <td>
            <!-- Delete button wired to POST delete route -->
            <form method="POST" action="/attendees/<%= a._id %>/delete" style="display:inline;">
              <button type="submit" class="btn btn-danger">Delete</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>


            <!-- Speakers Management -->
            <div id="speakers" class="dashboard">
                <div class="form-section">
                    <h2>Speaker Management</h2>
                    <div id="speakerAlert"></div>
                    <form id="speakerForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="speakerName">Speaker Name *</label>
                                <input type="text" id="speakerName" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="speakerEmail">Email Address *</label>
                                <input type="email" id="speakerEmail" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="speakerCompany">Company/Organization</label>
                                <input type="text" id="speakerCompany" name="company">
                            </div>
                            <div class="form-group">
                                <label for="speakerTitle">Title/Position</label>
                                <input type="text" id="speakerTitle" name="title">
                            </div>
                            <div class="form-group">
                                <label for="speakerExpertise">Area of Expertise</label>
                                <input type="text" id="speakerExpertise" name="expertise">
                            </div>
                            <div class="form-group">
                                <label for="speakerFee">Speaking Fee ($)</label>
                                <input type="number" id="speakerFee" name="fee" min="0">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="speakerBio">Biography</label>
                            <textarea id="speakerBio" name="bio" rows="4" placeholder="Brief biography and achievements..."></textarea>
                        </div>
                        <button type="submit" class="btn">Add Speaker</button>
                    </form>
                </div>

                <div class="search-filter">
                    <input type="text" id="speakerSearch" placeholder="Search speakers..." onkeyup="filterSpeakers()">
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Company</th>
                            <th>Expertise</th>
                            <th>Fee</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="speakersTableBody">
                    </tbody>
                </table>
            </div>

            <!-- Sessions Management -->
            <div id="sessions" class="dashboard">
                <div class="form-section">
                    <h2>Session Scheduling</h2>
                    <div id="sessionAlert"></div>
                    <form id="sessionForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="sessionTitle">Session Title *</label>
                                <input type="text" id="sessionTitle" name="title" required>
                            </div>
                            <div class="form-group">
                                <label for="sessionSpeaker">Speaker</label>
                                <select id="sessionSpeaker" name="speaker" required>
                                    <option value="">Select Speaker</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="sessionConference">Conference</label>
                                <select id="sessionConference" name="conference" required>
                                    <option value="">Select Conference</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="sessionDate">Date</label>
                                <input type="date" id="sessionDate" name="date" required>
                            </div>
                            <div class="form-group">
                                <label for="sessionStartTime">Start Time</label>
                                <input type="time" id="sessionStartTime" name="startTime" required>
                            </div>
                            <div class="form-group">
                                <label for="sessionDuration">Duration (minutes)</label>
                                <input type="number" id="sessionDuration" name="duration" min="15" max="480" value="60">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="sessionDescription">Description</label>
                            <textarea id="sessionDescription" name="description" rows="3" placeholder="Session description and objectives..."></textarea>
                        </div>
                        <button type="submit" class="btn">Schedule Session</button>
                    </form>
                </div>

                <div class="search-filter">
                    <input type="text" id="sessionSearch" placeholder="Search sessions..." onkeyup="filterSessions()">
                    <input type="date" id="sessionDateFilter" onchange="filterSessions()">
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th>Speaker</th>
                            <th>Conference</th>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Duration</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="sessionsTableBody">
                    </tbody>
                </table>
            </div>

            <!-- Conferences Management -->
            <div id="conferences" class="dashboard">
                <div class="form-section">
                    <h2>Conference Setup</h2>
                    <div id="conferenceAlert"></div>
                    <form id="conferenceForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="conferenceName">Conference Name *</label>
                                <input type="text" id="conferenceName" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="conferenceStartDate">Start Date</label>
                                <input type="date" id="conferenceStartDate" name="startDate" required>
                            </div>
                            <div class="form-group">
                                <label for="conferenceEndDate">End Date</label>
                                <input type="date" id="conferenceEndDate" name="endDate" required>
                            </div>
                            <div class="form-group">
                                <label for="conferenceCapacity">Max Capacity</label>
                                <input type="number" id="conferenceCapacity" name="capacity" min="1" value="100">
                            </div>
                            <div class="form-group">
                                <label for="conferenceType">Conference Type</label>
                                <select id="conferenceType" name="type">
                                    <option value="technology">Technology</option>
                                    <option value="business">Business</option>
                                    <option value="academic">Academic</option>
                                    <option value="healthcare">Healthcare</option>
                                    <option value="education">Education</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="conferenceStatus">Status</label>
                                <select id="conferenceStatus" name="status">
                                    <option value="planning">Planning</option>
                                    <option value="active">Active</option>
                                    <option value="completed">Completed</option>
                                    <option value="cancelled">Cancelled</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="conferenceDescription">Description</label>
                            <textarea id="conferenceDescription" name="description" rows="4" placeholder="Conference overview and objectives..."></textarea>
                        </div>
                        <button type="submit" class="btn">Create Conference</button>
                    </form>
                </div>

                <div class="search-filter">
                    <input type="text" id="conferenceSearch" placeholder="Search conferences..." onkeyup="filterConferences()">
                    <select id="conferenceStatusFilter" onchange="filterConferences()">
                        <option value="">All Status</option>
                        <option value="planning">Planning</option>
                        <option value="active">Active</option>
                        <option value="completed">Completed</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Capacity</th>
                            <th>Registered</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="conferencesTableBody">
                    </tbody>
                </table>
            </div>

            <!-- Analytics Dashboard -->
            <div id="analytics" class="dashboard">
                <h2>Analytics & Reports</h2>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="feature-icon">üìà</div>
                        <h3>Registration Rate</h3>
                        <div class="number" id="registrationRate">0%</div>
                        <p>Average across all conferences</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="feature-icon">üí∞</div>
                        <h3>Total Revenue</h3>
                        <div class="number" id="totalRevenue">$0</div>
                        <p>From all ticket sales</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="feature-icon">‚≠ê</div>
                        <h3>Avg. Rating</h3>
                        <div class="number" id="avgRating">0.0</div>
                        <p>Conference satisfaction score</p>
                    </div>
                    <div class="dashboard-card">
                        <div class="feature-icon">üåç</div>
                        <h3>Countries</h3>
                        <div class="number" id="totalCountries">0</div>
                        <p>Attendees from different countries</p>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Conference Performance</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Conference</th>
                                <th>Attendees</th>
                                <th>Sessions</th>
                                <th>Completion Rate</th>
                                <th>Revenue</th>
                                <th>Rating</th>
                            </tr>
                        </thead>
                        <tbody id="analyticsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data storage
        let conferences = [];
        let attendees = [];
        let speakers = [];
        let sessions = [];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            loadSampleData();
            updateDashboard();
            populateDropdowns();
        });

        // Load sample data
        function loadSampleData() {
            conferences = [
                {
                    id: 1,
                    name: "Tech Innovation Summit 2025",
                    type: "technology",
                    startDate: "2025-06-15",
                    endDate: "2025-06-17",
                    capacity: 500,
                    status: "active",
                    description: "Leading technology conference focusing on AI, blockchain, and emerging technologies."
                },
                {
                    id: 2,
                    name: "Global Business Forum",
                    type: "business",
                    startDate: "2025-07-20",
                    endDate: "2025-07-22",
                    capacity: 300,
                    status: "planning",
                    description: "International business leaders discussing market trends and strategies."
                }
            ];

            speakers = [
                {
                    id: 1,
                    name: "Dr. Sarah Johnson",
                    email: "sarah.johnson@email.com",
                    company: "TechCorp",
                    title: "Chief Technology Officer",
                    expertise: "Artificial Intelligence",
                    fee: 5000,
                    bio: "Leading expert in AI with 15+ years of experience."
                },
                {
                    id: 2,
                    name: "Michael Chen",
                    email: "michael.chen@email.com",
                    company: "InnovateNow",
                    title: "Blockchain Architect",
                    expertise: "Blockchain Technology",
                    fee: 4500,
                    bio: "Pioneering blockchain solutions for enterprise applications."
                }
            ];

            attendees = [
                {
                    id: 1,
                    name: "John Smith",
                    email: "john.smith@email.com",
                    company: "StartupXYZ",
                    title: "Software Engineer",
                    conference: 1,
                    ticketType: "standard",
                    status: "confirmed"
                },
                {
                    id: 2,
                    name: "Emily Davis",
                    email: "emily.davis@email.com",
                    company: "CorpABC",
                    title: "Product Manager",
                    conference: 1,
                    ticketType: "premium",
                    status: "pending"
                },
                {
                    id: 3,
                    name: "Robert Wilson",
                    email: "robert.wilson@email.com",
                    company: "TechGiant",
                    title: "CTO",
                    conference: 2,
                    ticketType: "vip",
                    status: "confirmed"
                }
            ];

            sessions = [
                {
                    id: 1,
                    title: "Future of AI in Business",
                    speaker: 1,
                    conference: 1,
                    date: "2025-06-15",
                    startTime: "09:00",
                    duration: 90,
                    description: "Exploring how AI will transform business operations."
                },
                {
                    id: 2,
                    title: "Blockchain Implementation Strategies",
                    speaker: 2,
                    conference: 1,
                    date: "2025-06-16",
                    startTime: "14:00",
                    duration: 75,
                    description: "Practical approaches to implementing blockchain in enterprises."
                }
            ];
        }

        // Navigation functions
        function showDashboard(dashboardId) {
            // Hide all dashboards
            const dashboards = document.querySelectorAll('.dashboard');
            dashboards.forEach(d => d.classList.remove('active'));

            // Show selected dashboard
            document.getElementById(dashboardId).classList.add('active');

            // Update navigation
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Update data tables
            updateTables();
        }

        // Update dashboard statistics
        function updateDashboard() {
            document.getElementById('totalAttendees').textContent = attendees.length;
            document.getElementById('totalSpeakers').textContent = speakers.length;
            document.getElementById('totalSessions').textContent = sessions.length;
            document.getElementById('totalConferences').textContent = conferences.length;

            // Analytics calculations
            const confirmedAttendees = attendees.filter(a => a.status === 'confirmed').length;
            const registrationRate = attendees.length > 0 ? Math.round((confirmedAttendees / attendees.length) * 100) : 0;
            document.getElementById('registrationRate').textContent = registrationRate + '%';

            // Mock revenue calculation (based on ticket types)
            const revenue = attendees.reduce((total, attendee) => {
                const prices = { standard: 299, premium: 499, vip: 799 };
                return total + (prices[attendee.ticketType] || 0);
            }, 0);
           document.getElementById('totalRevenue').textContent = `$${revenue.toLocaleString()}`;


            // Mock data for other analytics
            document.getElementById('avgRating').textContent = '4.7';
            document.getElementById('totalCountries').textContent = '15';

            updateAnalyticsTable();
        }

        // Populate dropdown menus
        function populateDropdowns() {
            const conferenceSelects = ['attendeeConference', 'sessionConference'];
            conferenceSelects.forEach(selectId => {
                const select = document.getElementById(selectId);
                select.innerHTML = '<option value="">Select Conference</option>';
                conferences.forEach(conf => {
                    select.innerHTML += `<option value="${conf.id}">${conf.name}</option>`;
                });
            });

            const speakerSelect = document.getElementById('sessionSpeaker');
            speakerSelect.innerHTML = '<option value="">Select Speaker</option>';
            speakers.forEach(speaker => {
                speakerSelect.innerHTML += `<option value="${speaker.id}">${speaker.name}</option>`;
            });
        }

        // Form submissions
        document.getElementById('attendeeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const attendee = {
                id: attendees.length + 1,
                name: formData.get('name'),
                email: formData.get('email'),
                company: formData.get('company'),
                title: formData.get('title'),
                conference: parseInt(formData.get('conference')),
                ticketType: formData.get('ticketType'),
                status: 'pending'
            };

            // Check for duplicate email
            if (attendees.some(a => a.email === attendee.email)) {
                showAlert('attendeeAlert', 'error', 'Email already registered!');
                return;
            }

            attendees.push(attendee);
            showAlert('attendeeAlert', 'success', 'Attendee registered successfully!');
            e.target.reset();
            updateDashboard();
            updateTables();
        });

        document.getElementById('speakerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const speaker = {
                id: speakers.length + 1,
                name: formData.get('name'),
                email: formData.get('email'),
                company: formData.get('company'),
                title: formData.get('title'),
                expertise: formData.get('expertise'),
                fee: parseInt(formData.get('fee')) || 0,
                bio: formData.get('bio')
            };

            // Check for duplicate email
            if (speakers.some(s => s.email === speaker.email)) {
                showAlert('speakerAlert', 'error', 'Speaker email already exists!');
                return;
            }

            speakers.push(speaker);
            showAlert('speakerAlert', 'success', 'Speaker added successfully!');
            e.target.reset();
            updateDashboard();
            populateDropdowns();
            updateTables();
        });

        document.getElementById('sessionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const session = {
                id: sessions.length + 1,
                title: formData.get('title'),
                speaker: parseInt(formData.get('speaker')),
                conference: parseInt(formData.get('conference')),
                date: formData.get('date'),
                startTime: formData.get('startTime'),
                duration: parseInt(formData.get('duration')),
                description: formData.get('description')
            };

            sessions.push(session);
            showAlert('sessionAlert', 'success', 'Session scheduled successfully!');
            e.target.reset();
            updateDashboard();
            updateTables();
        });

        document.getElementById('conferenceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const conference = {
                id: conferences.length + 1,
                name: formData.get('name'),
                type: formData.get('type'),
                startDate: formData.get('startDate'),
                endDate: formData.get('endDate'),
                capacity: parseInt(formData.get('capacity')),
                status: formData.get('status'),
                description: formData.get('description')
            };

            // Validate dates
            if (new Date(conference.startDate) > new Date(conference.endDate)) {
                showAlert('conferenceAlert', 'error', 'End date must be after start date!');
                return;
            }

            conferences.push(conference);
            showAlert('conferenceAlert', 'success', 'Conference created successfully!');
            e.target.reset();
            updateDashboard();
            populateDropdowns();
            updateTables();
        });

        // Show alerts
        function showAlert(containerId, type, message) {
            const container = document.getElementById(containerId);
            container.innerHTML = `<div class="alert alert-${type}">${message}</div>`;
            setTimeout(() => {
                container.innerHTML = '';
            }, 5000);
        }

        // Update all tables
        function updateTables() {
            updateAttendeesTable();
            updateSpeakersTable();
            updateSessionsTable();
            updateConferencesTable();
        }

        // Update attendees table
        function updateAttendeesTable() {
            const tbody = document.getElementById('attendeesTableBody');
            tbody.innerHTML = '';

            attendees.forEach(attendee => {
                const conference = conferences.find(c => c.id === attendee.conference);
                const row = `
                    <tr>
                        <td>${attendee.name}</td>
                        <td>${attendee.email}</td>
                        <td>${attendee.company || 'N/A'}</td>
                        <td>${conference ? conference.name : 'N/A'}</td>
                        <td>${attendee.ticketType.toUpperCase()}</td>
                        <td><span class="status-badge status-${attendee.status}">${attendee.status}</span></td>
                        <td>
                            <button class="btn btn-danger" onclick="deleteAttendee(${attendee.id})">Delete</button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Update speakers table
        function updateSpeakersTable() {
            const tbody = document.getElementById('speakersTableBody');
            tbody.innerHTML = '';

            speakers.forEach(speaker => {
                const row = `
                    <tr>
                        <td>${speaker.name}</td>
                        <td>${speaker.email}</td>
                        <td>${speaker.company || 'N/A'}</td>
                        <td>${speaker.expertise || 'N/A'}</td>
                        <td>${speaker.fee.toLocaleString()}</td>
                        <td>
                            <button class="btn btn-danger" onclick="deleteSpeaker(${speaker.id})">Delete</button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Update sessions table
        function updateSessionsTable() {
            const tbody = document.getElementById('sessionsTableBody');
            tbody.innerHTML = '';

            sessions.forEach(session => {
                const speaker = speakers.find(s => s.id === session.speaker);
                const conference = conferences.find(c => c.id === session.conference);
                const row = `
                    <tr>
                        <td>${session.title}</td>
                        <td>${speaker ? speaker.name : 'N/A'}</td>
                        <td>${conference ? conference.name : 'N/A'}</td>
                        <td>${session.date}</td>
                        <td>${session.startTime}</td>
                        <td>${session.duration} min</td>
                        <td>
                            <button class="btn btn-danger" onclick="deleteSession(${session.id})">Delete</button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Update conferences table
        function updateConferencesTable() {
            const tbody = document.getElementById('conferencesTableBody');
            tbody.innerHTML = '';

            conferences.forEach(conference => {
                const registeredCount = attendees.filter(a => a.conference === conference.id).length;
                const row = `
                    <tr>
                        <td>${conference.name}</td>
                        <td>${conference.type.toUpperCase()}</td>
                        <td>${conference.startDate}</td>
                        <td>${conference.endDate}</td>
                        <td>${conference.capacity}</td>
                        <td>${registeredCount}</td>
                        <td><span class="status-badge status-${conference.status}">${conference.status}</span></td>
                        <td>
                            <button class="btn btn-danger" onclick="deleteConference(${conference.id})">Delete</button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Update analytics table
        function updateAnalyticsTable() {
            const tbody = document.getElementById('analyticsTableBody');
            tbody.innerHTML = '';

            conferences.forEach(conference => {
                const conferenceAttendees = attendees.filter(a => a.conference === conference.id);
                const conferenceSessions = sessions.filter(s => s.conference === conference.id);
                const completionRate = Math.floor(Math.random() * 30) + 70; // Mock data
                const revenue = conferenceAttendees.reduce((total, attendee) => {
                    const prices = { standard: 299, premium: 499, vip: 799 };
                    return total + (prices[attendee.ticketType] || 0);
                }, 0);
                const rating = (Math.random() * 1.5 + 3.5).toFixed(1); // Mock rating between 3.5-5.0

                const row = `
                    <tr>
                        <td>${conference.name}</td>
                        <td>${conferenceAttendees.length}</td>
                        <td>${conferenceSessions.length}</td>
                        <td>${completionRate}%</td>
                        <td>${revenue.toLocaleString()}</td>
                        <td>${rating}‚≠ê</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Delete functions
        function deleteAttendee(id) {
            if (confirm('Are you sure you want to delete this attendee?')) {
                attendees = attendees.filter(a => a.id !== id);
                updateDashboard();
                updateTables();
            }
        }

        function deleteSpeaker(id) {
            if (confirm('Are you sure you want to delete this speaker?')) {
                speakers = speakers.filter(s => s.id !== id);
                updateDashboard();
                populateDropdowns();
                updateTables();
            }
        }

        function deleteSession(id) {
            if (confirm('Are you sure you want to delete this session?')) {
                sessions = sessions.filter(s => s.id !== id);
                updateDashboard();
                updateTables();
            }
        }

        function deleteConference(id) {
            if (confirm('Are you sure you want to delete this conference? This will also remove all associated attendees and sessions.')) {
                conferences = conferences.filter(c => c.id !== id);
                attendees = attendees.filter(a => a.conference !== id);
                sessions = sessions.filter(s => s.conference !== id);
                updateDashboard();
                populateDropdowns();
                updateTables();
            }
        }

        // Filter functions
        function filterAttendees() {
            const searchTerm = document.getElementById('attendeeSearch').value.toLowerCase();
            const statusFilter = document.getElementById('attendeeStatusFilter').value;
            const rows = document.querySelectorAll('#attendeesTableBody tr');

            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                const status = row.querySelector('.status-badge').textContent;
                const matchesSearch = text.includes(searchTerm);
                const matchesStatus = !statusFilter || status === statusFilter;
                row.style.display = matchesSearch && matchesStatus ? '' : 'none';
            });
        }

        function filterSpeakers() {
            const searchTerm = document.getElementById('speakerSearch').value.toLowerCase();
            const rows = document.querySelectorAll('#speakersTableBody tr');

            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        function filterSessions() {
            const searchTerm = document.getElementById('sessionSearch').value.toLowerCase();
            const dateFilter = document.getElementById('sessionDateFilter').value;
            const rows = document.querySelectorAll('#sessionsTableBody tr');

            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                const dateCell = row.children[3].textContent;
                const matchesSearch = text.includes(searchTerm);
                const matchesDate = !dateFilter || dateCell === dateFilter;
                row.style.display = matchesSearch && matchesDate ? '' : 'none';
            });
        }

        function filterConferences() {
            const searchTerm = document.getElementById('conferenceSearch').value.toLowerCase();
            const statusFilter = document.getElementById('conferenceStatusFilter').value;
            const rows = document.querySelectorAll('#conferencesTableBody tr');

            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                const status = row.querySelector('.status-badge').textContent;
                const matchesSearch = text.includes(searchTerm);
                const matchesStatus = !statusFilter || status === statusFilter;
                row.style.display = matchesSearch && matchesStatus ? '' : 'none';
            });
        }
    </script>
</body>
</html>